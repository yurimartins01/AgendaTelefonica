2024-12-04 13:44:43.206 -03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7016: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Normalmente é permitida apenas uma utilização de cada endereço de soquete (protocolo/endereço de rede/porta).
 ---> System.Net.Sockets.SocketException (10048): Normalmente é permitida apenas uma utilização de cada endereço de soquete (protocolo/endereço de rede/porta).
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-12-04 13:45:13.120 -03:00 [INF] Now listening on: https://localhost:7016
2024-12-04 13:45:13.145 -03:00 [INF] Now listening on: http://localhost:5214
2024-12-04 13:45:13.147 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-04 13:45:13.147 -03:00 [INF] Hosting environment: Development
2024-12-04 13:45:13.147 -03:00 [INF] Content root path: D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API
2024-12-04 13:45:27.598 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 13:45:27.645 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:45:27.651 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:27.678 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:45:29.203 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 13:45:29.314 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 13:45:29.348 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 1662.9314ms
2024-12-04 13:45:29.350 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:29.351 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 13:45:29.353 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:45:29.353 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:29.354 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:45:29.362 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 1766.2547ms
2024-12-04 13:45:29.376 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 13:45:29.377 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 13:45:29.378 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 24.068ms
2024-12-04 13:45:29.378 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:29.378 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 27.2354ms
2024-12-04 13:45:29.380 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 13:45:29.382 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:45:29.382 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:29.383 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:45:29.444 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 13:45:29.446 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 13:45:29.446 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 63.3904ms
2024-12-04 13:45:29.446 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:29.446 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 65.861ms
2024-12-04 13:45:29.448 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 13:45:29.448 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:45:29.448 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:29.448 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:45:29.450 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 13:45:29.451 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 13:45:29.451 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 3.3709ms
2024-12-04 13:45:29.452 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:45:29.452 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 4.1847ms
2024-12-04 13:48:15.438 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos - null null
2024-12-04 13:48:15.443 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:48:15.444 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos - 204 null null 6.3617ms
2024-12-04 13:48:15.446 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7016/api/Contatos - application/json 71
2024-12-04 13:48:15.447 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:48:15.447 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 13:48:15.457 -03:00 [INF] Route matched with {action = "AdicionarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdicionarContato(Agenda.Application.DTOs.CriarContatoDto) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:48:15.919 -03:00 [INF] Executed DbCommand (98ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Contato] ([Idade], [Nome])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-12-04 13:48:15.946 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Telefone] ([IdContato], [Numero])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3);
2024-12-04 13:48:15.964 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Agenda.Application.DTOs.ContatoDto'.
2024-12-04 13:48:15.978 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API) in 521.0711ms
2024-12-04 13:48:15.978 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 13:48:15.978 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7016/api/Contatos - 201 null application/json; charset=utf-8 532.2042ms
2024-12-04 13:48:17.783 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 13:48:17.784 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:48:17.784 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:48:17.784 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:48:17.787 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 13:48:17.789 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 13:48:17.789 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 5.0229ms
2024-12-04 13:48:17.789 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:48:17.789 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 6.0263ms
2024-12-04 13:48:23.409 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos/56 - null null
2024-12-04 13:48:23.410 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:48:23.410 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos/56 - 204 null null 0.3021ms
2024-12-04 13:48:23.411 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7016/api/Contatos/56 - null null
2024-12-04 13:48:23.411 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:48:23.411 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 13:48:23.415 -03:00 [INF] Route matched with {action = "DeletarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeletarContato(Int32) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:48:23.446 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 13:48:23.449 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 13:48:23.463 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p0 AND [IdContato] = @p1;
DELETE FROM [Contato]
OUTPUT 1
WHERE [Id] = @p2;
2024-12-04 13:48:23.474 -03:00 [INF] Contato excluido --> {"Id":56,"Nome":"LogTeste","Idade":33,"Telefones":[{"Id":64,"IdContato":56,"Numero":"123333","Contato":null,"$type":"Telefone"}],"$type":"Contato"}
2024-12-04 13:48:23.477 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-12-04 13:48:23.477 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API) in 62.2015ms
2024-12-04 13:48:23.477 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 13:48:23.478 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7016/api/Contatos/56 - 204 null null 66.3773ms
2024-12-04 13:48:25.685 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 13:48:25.685 -03:00 [INF] CORS policy execution successful.
2024-12-04 13:48:25.685 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:48:25.685 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 13:48:25.688 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 13:48:25.689 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 13:48:25.689 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 3.6965ms
2024-12-04 13:48:25.689 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 13:48:25.689 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 4.5449ms
2024-12-04 17:20:32.656 -03:00 [INF] Now listening on: https://localhost:7016
2024-12-04 17:20:32.699 -03:00 [INF] Now listening on: http://localhost:5214
2024-12-04 17:20:32.756 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-04 17:20:32.756 -03:00 [INF] Hosting environment: Development
2024-12-04 17:20:32.756 -03:00 [INF] Content root path: D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API
2024-12-04 17:20:35.811 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-12-04 17:20:36.112 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 313.5987ms
2024-12-04 17:20:36.140 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-12-04 17:20:36.140 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-12-04 17:20:36.154 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 7.0711ms
2024-12-04 17:20:36.210 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.1596ms
2024-12-04 17:20:36.506 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - null null
2024-12-04 17:20:36.689 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.9603ms
2024-12-04 17:21:19.416 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:21:19.430 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:21:19.438 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:21:19.486 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:21:22.762 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:21:22.887 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 17:21:22.897 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:21:22.898 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:21:22.898 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:21:22.899 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:21:22.900 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 3407.7356ms
2024-12-04 17:21:22.901 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:21:22.916 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 3500.2084ms
2024-12-04 17:21:22.931 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:21:22.935 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 17:21:22.936 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 36.8333ms
2024-12-04 17:21:22.936 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:21:22.936 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 38.9887ms
2024-12-04 17:25:49.748 -03:00 [INF] Now listening on: https://localhost:7016
2024-12-04 17:25:49.779 -03:00 [INF] Now listening on: http://localhost:5214
2024-12-04 17:25:49.838 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-04 17:25:49.839 -03:00 [INF] Hosting environment: Development
2024-12-04 17:25:49.839 -03:00 [INF] Content root path: D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API
2024-12-04 17:25:51.232 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-12-04 17:25:51.502 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 277.9368ms
2024-12-04 17:25:51.532 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-12-04 17:25:51.532 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-12-04 17:25:51.550 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 17.83ms
2024-12-04 17:25:51.595 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.181ms
2024-12-04 17:25:52.072 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - null null
2024-12-04 17:25:52.331 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 259.1135ms
2024-12-04 17:25:55.105 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:25:55.111 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:25:55.129 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:25:55.171 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:25:56.097 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:25:56.097 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:25:56.097 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:25:56.098 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:25:56.996 -03:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:25:56.996 -03:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:25:57.090 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:fab8bc11-c038-4688-8e0a-ad29c1ccd646
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:fab8bc11-c038-4688-8e0a-ad29c1ccd646
Error Number:229,State:5,Class:14
2024-12-04 17:25:57.090 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:25:57.462 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 1360.9005ms
2024-12-04 17:25:57.462 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 2286.8983ms
2024-12-04 17:25:57.463 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:25:57.463 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:25:57.466 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:25:57.466 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:fab8bc11-c038-4688-8e0a-ad29c1ccd646
Error Number:229,State:5,Class:14
2024-12-04 17:25:57.495 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:25:57.496 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:25:57.497 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:25:57.498 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:25:57.512 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 1415.6991ms
2024-12-04 17:25:57.512 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 2406.8487ms
2024-12-04 17:25:57.571 -03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:25:57.573 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:25:57.684 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 185.6627ms
2024-12-04 17:25:57.684 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:25:57.686 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:25:57.693 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 197.5156ms
2024-12-04 17:26:04.739 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:26:04.740 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:26:04.740 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:04.741 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:26:04.750 -03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:26:04.758 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:04.965 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 223.7652ms
2024-12-04 17:26:04.965 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:04.967 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:04.975 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 235.8286ms
2024-12-04 17:26:04.976 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:26:04.977 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:26:04.977 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:04.977 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:26:04.983 -03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:26:04.984 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:05.104 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 127.049ms
2024-12-04 17:26:05.105 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:05.105 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:05.109 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 132.9247ms
2024-12-04 17:26:08.723 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:26:08.723 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:26:08.724 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:08.724 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:26:08.730 -03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:26:08.731 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:08.839 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 115.2601ms
2024-12-04 17:26:08.839 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:08.840 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:08.843 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 120.8448ms
2024-12-04 17:26:08.845 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:26:08.845 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:26:08.845 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:08.845 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:26:08.849 -03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:26:08.850 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:08.950 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 104.3181ms
2024-12-04 17:26:08.950 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:08.951 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:08.956 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 111.7206ms
2024-12-04 17:26:17.034 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:26:17.034 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:26:17.034 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:17.034 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:26:17.040 -03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:26:17.041 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:17.163 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 128.4172ms
2024-12-04 17:26:17.163 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:17.164 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:17.167 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 133.3745ms
2024-12-04 17:26:17.168 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:26:17.169 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:26:17.169 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:17.169 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:26:17.172 -03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:26:17.173 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:17.274 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 105.3054ms
2024-12-04 17:26:17.274 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:17.275 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:17.284 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 115.5644ms
2024-12-04 17:26:17.997 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:26:17.997 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:26:17.997 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:17.998 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:26:18.001 -03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:26:18.002 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:18.102 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 104.6202ms
2024-12-04 17:26:18.102 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:26:18.103 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f0ca40b9-36bf-4bc3-b335-751e35876aa2
Error Number:229,State:5,Class:14
2024-12-04 17:26:18.107 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 110.1758ms
2024-12-04 17:30:16.937 -03:00 [INF] Now listening on: https://localhost:7016
2024-12-04 17:30:16.982 -03:00 [INF] Now listening on: http://localhost:5214
2024-12-04 17:30:17.066 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-04 17:30:17.067 -03:00 [INF] Hosting environment: Development
2024-12-04 17:30:17.067 -03:00 [INF] Content root path: D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API
2024-12-04 17:30:18.758 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-12-04 17:30:19.029 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 280.1034ms
2024-12-04 17:30:19.071 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-12-04 17:30:19.071 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-12-04 17:30:19.076 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 6.1298ms
2024-12-04 17:30:19.119 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0327ms
2024-12-04 17:30:19.303 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - null null
2024-12-04 17:30:19.463 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.7958ms
2024-12-04 17:30:34.562 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:30:34.577 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:30:34.583 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:34.654 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:30:35.469 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:30:35.471 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:30:35.471 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:35.472 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:30:38.017 -03:00 [ERR] Failed executing DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:30:38.017 -03:00 [ERR] Failed executing DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:30:38.053 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:57f464b3-e9da-49d6-97c7-2698b472fe4c
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:57f464b3-e9da-49d6-97c7-2698b472fe4c
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.053 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.468 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 3810.0134ms
2024-12-04 17:30:38.468 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 2993.1333ms
2024-12-04 17:30:38.469 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:38.469 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:38.472 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:57f464b3-e9da-49d6-97c7-2698b472fe4c
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.471 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.498 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:30:38.501 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:30:38.501 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:38.501 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:30:38.502 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 3033.448ms
2024-12-04 17:30:38.502 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 3939.9816ms
2024-12-04 17:30:38.580 -03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:30:38.581 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.744 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 242.7029ms
2024-12-04 17:30:38.744 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:38.745 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.752 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 253.6444ms
2024-12-04 17:30:38.753 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:30:38.754 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:30:38.754 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:38.754 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:30:38.769 -03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:30:38.770 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Agenda.Infra.Data.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.910 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 155.2225ms
2024-12-04 17:30:38.910 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:30:38.911 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Telefone', database 'Agenda', schema 'dbo'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Agenda.Infra.Data.Repositories.ContatoRepository.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Infra.Data\Repositories\ContatoRepository.cs:line 19
   at Agenda.Application.Services.ContatoService.BuscarTodos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.Application\Services\ContatoService.cs:line 30
   at Agenda.API.Controllers.ContatosController.BuscarTodosContatos() in D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API\Controllers\ContatosController.cs:line 23
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e2453fa6-bdb6-4b71-be9e-c20796c46c23
Error Number:229,State:5,Class:14
2024-12-04 17:30:38.919 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 500 null text/plain; charset=utf-8 166.045ms
2024-12-04 17:43:39.458 -03:00 [INF] Now listening on: https://localhost:7016
2024-12-04 17:43:39.513 -03:00 [INF] Now listening on: http://localhost:5214
2024-12-04 17:43:39.599 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-04 17:43:39.600 -03:00 [INF] Hosting environment: Development
2024-12-04 17:43:39.600 -03:00 [INF] Content root path: D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API
2024-12-04 17:43:41.125 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-12-04 17:43:41.351 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 236.5373ms
2024-12-04 17:43:41.389 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-12-04 17:43:41.389 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-12-04 17:43:41.393 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 4.5445ms
2024-12-04 17:43:41.431 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.3073ms
2024-12-04 17:43:41.576 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - null null
2024-12-04 17:43:41.732 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.4716ms
2024-12-04 17:43:49.191 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:43:49.200 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:43:49.204 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:43:49.292 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:43:51.079 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:43:51.218 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 17:43:51.233 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 17:43:51.234 -03:00 [INF] CORS policy execution successful.
2024-12-04 17:43:51.234 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:43:51.235 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 17:43:51.236 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 1939.5434ms
2024-12-04 17:43:51.237 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:43:51.245 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 2054.9277ms
2024-12-04 17:43:51.268 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 17:43:51.270 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 17:43:51.270 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 35.3901ms
2024-12-04 17:43:51.270 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 17:43:51.271 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 37.9025ms
2024-12-04 18:03:19.907 -03:00 [INF] Now listening on: https://localhost:7016
2024-12-04 18:03:19.984 -03:00 [INF] Now listening on: http://localhost:5214
2024-12-04 18:03:20.103 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-04 18:03:20.104 -03:00 [INF] Hosting environment: Development
2024-12-04 18:03:20.104 -03:00 [INF] Content root path: D:\GitHub\mrtnsy\AgendaTelefonica\AgendaAPI\Agenda.API
2024-12-04 18:03:21.144 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:03:21.236 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:03:21.241 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:03:21.282 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:03:24.239 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-12-04 18:03:24.519 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 279.8692ms
2024-12-04 18:03:24.559 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-12-04 18:03:24.565 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 6.5497ms
2024-12-04 18:03:24.567 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-12-04 18:03:24.621 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.1738ms
2024-12-04 18:03:24.829 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - null null
2024-12-04 18:03:25.014 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 185.8872ms
2024-12-04 18:03:25.205 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:03:25.468 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:03:25.481 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:03:25.482 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:03:25.482 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:03:25.482 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:03:25.485 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 4197.8216ms
2024-12-04 18:03:25.486 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:03:25.512 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 4375.9527ms
2024-12-04 18:03:25.519 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:03:25.525 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:03:25.526 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 43.3018ms
2024-12-04 18:03:25.526 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:03:25.526 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 45.3766ms
2024-12-04 18:06:11.109 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:06:11.111 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:06:11.111 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:06:11.111 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:06:11.234 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:06:11.237 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:06:11.238 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 126.4925ms
2024-12-04 18:06:11.238 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:06:11.246 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 135.1413ms
2024-12-04 18:06:11.253 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:06:11.254 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:06:11.254 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:06:11.254 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:06:11.258 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:06:11.261 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:06:11.262 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 7.6387ms
2024-12-04 18:06:11.262 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:06:11.262 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 9.1901ms
2024-12-04 18:06:51.799 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos - null null
2024-12-04 18:06:51.800 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:06:51.802 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos - 204 null null 2.8984ms
2024-12-04 18:06:51.806 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7016/api/Contatos - application/json 97
2024-12-04 18:06:51.806 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:06:51.807 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:06:51.819 -03:00 [INF] Route matched with {action = "AdicionarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdicionarContato(Agenda.Application.DTOs.CriarContatoDto) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:06:52.317 -03:00 [INF] Executed DbCommand (137ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Contato] ([Idade], [Nome])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-12-04 18:06:52.375 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 16), @p4='?' (DbType = Int32), @p5='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Telefone] USING (
VALUES (@p2, @p3, 0),
(@p4, @p5, 1)) AS i ([IdContato], [Numero], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IdContato], [Numero])
VALUES (i.[IdContato], i.[Numero])
OUTPUT INSERTED.[Id], i._Position;
2024-12-04 18:06:52.407 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Agenda.Application.DTOs.ContatoDto'.
2024-12-04 18:06:52.428 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API) in 609.4385ms
2024-12-04 18:06:52.428 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:06:52.429 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7016/api/Contatos - 201 null application/json; charset=utf-8 622.9863ms
2024-12-04 18:07:00.739 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:07:00.740 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:00.740 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:00.740 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:07:00.748 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:07:00.751 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:07:00.752 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 12.0692ms
2024-12-04 18:07:00.752 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:00.753 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 13.3754ms
2024-12-04 18:07:06.052 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos/57 - null null
2024-12-04 18:07:06.052 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:06.053 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos/57 - 204 null null 0.6751ms
2024-12-04 18:07:06.054 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7016/api/Contatos/57 - null null
2024-12-04 18:07:06.054 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:06.054 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:07:06.063 -03:00 [INF] Route matched with {action = "DeletarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeletarContato(Int32) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:07:06.113 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:07:06.118 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:07:06.143 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p0 AND [IdContato] = @p1;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p2 AND [IdContato] = @p3;
DELETE FROM [Contato]
OUTPUT 1
WHERE [Id] = @p4;
2024-12-04 18:07:06.156 -03:00 [INF] Contato excluido --> {"Id":57,"Nome":"yuri","Idade":23,"Telefones":[{"Id":65,"IdContato":57,"Numero":"1699999999999999","Contato":null,"$type":"Telefone"},{"Id":66,"IdContato":57,"Numero":"234234","Contato":null,"$type":"Telefone"}],"$type":"Contato"}
2024-12-04 18:07:06.160 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-12-04 18:07:06.160 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API) in 96.9684ms
2024-12-04 18:07:06.160 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:07:06.161 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7016/api/Contatos/57 - 204 null null 106.9529ms
2024-12-04 18:07:17.920 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos/57 - null null
2024-12-04 18:07:17.920 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:17.920 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos/57 - 204 null null 0.7037ms
2024-12-04 18:07:17.922 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7016/api/Contatos/57 - null null
2024-12-04 18:07:17.922 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:17.922 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:07:17.924 -03:00 [INF] Route matched with {action = "DeletarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeletarContato(Int32) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:07:17.930 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:07:17.939 -03:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-12-04 18:07:17.939 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API) in 14.4819ms
2024-12-04 18:07:17.939 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:07:17.939 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7016/api/Contatos/57 - 404 null text/plain; charset=utf-8 17.5151ms
2024-12-04 18:07:19.416 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:07:19.416 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:19.416 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:19.416 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:07:19.420 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:07:19.423 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:07:19.423 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 6.8875ms
2024-12-04 18:07:19.423 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:19.424 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 8.0393ms
2024-12-04 18:07:27.377 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:07:27.377 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:27.378 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:27.378 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:07:27.386 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:07:27.387 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:07:27.388 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 10.098ms
2024-12-04 18:07:27.388 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:27.389 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 11.6872ms
2024-12-04 18:07:27.405 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:07:27.406 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:07:27.406 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:27.406 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:07:27.411 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:07:27.412 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:07:27.412 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 5.8078ms
2024-12-04 18:07:27.412 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:07:27.412 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 7.2623ms
2024-12-04 18:08:55.070 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:08:55.071 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:08:55.075 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:08:55.076 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:08:55.084 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:08:55.085 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:08:55.085 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 9.0995ms
2024-12-04 18:08:55.085 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:08:55.085 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 15.6969ms
2024-12-04 18:08:55.103 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:08:55.104 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:08:55.104 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:08:55.104 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:08:55.108 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:08:55.109 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:08:55.109 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 4.5808ms
2024-12-04 18:08:55.109 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:08:55.109 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 6.6545ms
2024-12-04 18:09:35.438 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:09:35.439 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:09:35.439 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:09:35.439 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:09:35.475 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:09:35.480 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:09:35.480 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 41.2707ms
2024-12-04 18:09:35.480 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:09:35.481 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 42.6461ms
2024-12-04 18:09:35.482 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:09:35.482 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:09:35.483 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:09:35.483 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:09:35.485 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:09:35.486 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:09:35.486 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 3.4217ms
2024-12-04 18:09:35.486 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:09:35.486 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 4.312ms
2024-12-04 18:10:17.751 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos - null null
2024-12-04 18:10:17.751 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:10:17.751 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos - 204 null null 0.6348ms
2024-12-04 18:10:17.753 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7016/api/Contatos - application/json 94
2024-12-04 18:10:17.753 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:10:17.753 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:10:17.753 -03:00 [INF] Route matched with {action = "AdicionarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdicionarContato(Agenda.Application.DTOs.CriarContatoDto) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:10:17.761 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Contato] ([Idade], [Nome])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-12-04 18:10:17.765 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 16), @p4='?' (DbType = Int32), @p5='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Telefone] USING (
VALUES (@p2, @p3, 0),
(@p4, @p5, 1)) AS i ([IdContato], [Numero], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IdContato], [Numero])
VALUES (i.[IdContato], i.[Numero])
OUTPUT INSERTED.[Id], i._Position;
2024-12-04 18:10:17.768 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Agenda.Application.DTOs.ContatoDto'.
2024-12-04 18:10:17.769 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API) in 15.2273ms
2024-12-04 18:10:17.769 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:10:17.769 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7016/api/Contatos - 201 null application/json; charset=utf-8 16.6288ms
2024-12-04 18:10:24.133 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:10:24.134 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:10:24.134 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:10:24.134 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:10:24.138 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:10:24.139 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:10:24.139 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 5.2483ms
2024-12-04 18:10:24.139 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:10:24.139 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 6.0845ms
2024-12-04 18:12:39.119 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:12:39.119 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:12:39.119 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:12:39.120 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:12:39.125 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:12:39.126 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:12:39.126 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 6.2865ms
2024-12-04 18:12:39.126 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:12:39.126 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 7.5352ms
2024-12-04 18:12:39.130 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:12:39.133 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:12:39.133 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:12:39.133 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:12:39.139 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:12:39.140 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:12:39.141 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 6.9832ms
2024-12-04 18:12:39.141 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:12:39.141 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 10.8532ms
2024-12-04 18:13:59.256 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos - null null
2024-12-04 18:13:59.257 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:13:59.261 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos - 204 null null 5.4234ms
2024-12-04 18:13:59.264 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7016/api/Contatos - application/json 52
2024-12-04 18:13:59.264 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:13:59.264 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:13:59.265 -03:00 [INF] Route matched with {action = "AdicionarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdicionarContato(Agenda.Application.DTOs.CriarContatoDto) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:13:59.270 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Contato] ([Idade], [Nome])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-12-04 18:13:59.273 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Telefone] ([IdContato], [Numero])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3);
2024-12-04 18:13:59.275 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Agenda.Application.DTOs.ContatoDto'.
2024-12-04 18:13:59.276 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API) in 11.0834ms
2024-12-04 18:13:59.276 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:13:59.276 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7016/api/Contatos - 201 null application/json; charset=utf-8 12.9586ms
2024-12-04 18:16:20.196 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:16:20.198 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:16:20.198 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:20.199 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:16:20.210 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:16:20.211 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:16:20.211 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 12.4176ms
2024-12-04 18:16:20.211 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:20.211 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 15.3346ms
2024-12-04 18:16:20.217 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:16:20.217 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:16:20.217 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:20.218 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:16:20.220 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:16:20.221 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:16:20.221 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 3.8122ms
2024-12-04 18:16:20.222 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:20.222 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 4.7377ms
2024-12-04 18:16:39.060 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:16:39.060 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:16:39.060 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:39.060 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:16:39.064 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:16:39.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:16:39.066 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 5.8855ms
2024-12-04 18:16:39.066 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:39.067 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 6.8937ms
2024-12-04 18:16:39.114 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:16:39.114 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:16:39.114 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:39.114 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:16:39.117 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:16:39.118 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:16:39.118 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 3.4368ms
2024-12-04 18:16:39.118 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:16:39.118 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 4.2764ms
2024-12-04 18:17:39.232 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:17:39.233 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:17:39.233 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:39.233 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:17:39.310 -03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:17:39.318 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:17:39.319 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 85.4862ms
2024-12-04 18:17:39.319 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:39.319 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 86.8493ms
2024-12-04 18:17:39.337 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:17:39.337 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:17:39.338 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:39.338 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:17:39.345 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:17:39.347 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:17:39.347 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 9.0019ms
2024-12-04 18:17:39.347 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:39.347 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 10.1989ms
2024-12-04 18:17:40.178 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:17:40.178 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:17:40.178 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:40.178 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:17:40.182 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:17:40.182 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:17:40.183 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 4.975ms
2024-12-04 18:17:40.183 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:40.183 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 5.7179ms
2024-12-04 18:17:40.189 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:17:40.190 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:17:40.190 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:40.190 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:17:40.194 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:17:40.195 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:17:40.195 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 4.9233ms
2024-12-04 18:17:40.195 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:17:40.195 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 9.0187ms
2024-12-04 18:18:12.978 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos/59 - null null
2024-12-04 18:18:12.978 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:18:12.978 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos/59 - 204 null null 0.5903ms
2024-12-04 18:18:12.980 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7016/api/Contatos/59 - null null
2024-12-04 18:18:12.980 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:18:12.980 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:18:12.980 -03:00 [INF] Route matched with {action = "DeletarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeletarContato(Int32) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:18:12.987 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:18:12.999 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:18:13.006 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p0 AND [IdContato] = @p1;
DELETE FROM [Contato]
OUTPUT 1
WHERE [Id] = @p2;
2024-12-04 18:18:13.009 -03:00 [INF] Contato excluido --> {"Id":59,"Nome":"","Idade":0,"Telefones":[{"Id":69,"IdContato":59,"Numero":"324324","Contato":null,"$type":"Telefone"}],"$type":"Contato"}
2024-12-04 18:18:13.009 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-12-04 18:18:13.009 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API) in 28.9571ms
2024-12-04 18:18:13.009 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:18:13.009 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7016/api/Contatos/59 - 204 null null 29.8599ms
2024-12-04 18:18:15.035 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:18:15.035 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:18:15.035 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:18:15.035 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:18:15.039 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:18:15.040 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:18:15.040 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 4.7147ms
2024-12-04 18:18:15.040 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:18:15.040 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 5.7835ms
2024-12-04 18:18:26.251 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos/58 - null null
2024-12-04 18:18:26.251 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:18:26.251 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos/58 - 204 null null 0.9758ms
2024-12-04 18:18:26.253 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7016/api/Contatos/58 - null null
2024-12-04 18:18:26.254 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:18:26.254 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:18:26.254 -03:00 [INF] Route matched with {action = "DeletarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeletarContato(Int32) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:18:26.257 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:18:26.259 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:18:26.270 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p0 AND [IdContato] = @p1;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p2 AND [IdContato] = @p3;
DELETE FROM [Contato]
OUTPUT 1
WHERE [Id] = @p4;
2024-12-04 18:18:26.273 -03:00 [INF] Contato excluido --> {"Id":58,"Nome":"NovoTeste","Idade":23,"Telefones":[{"Id":67,"IdContato":58,"Numero":"1699999","Contato":null,"$type":"Telefone"},{"Id":68,"IdContato":58,"Numero":"2344444","Contato":null,"$type":"Telefone"}],"$type":"Contato"}
2024-12-04 18:18:26.273 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-12-04 18:18:26.274 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API) in 19.6013ms
2024-12-04 18:18:26.274 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:18:26.274 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7016/api/Contatos/58 - 204 null null 20.6154ms
2024-12-04 18:19:11.687 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos - null null
2024-12-04 18:19:11.690 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:11.691 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos - 204 null null 4.296ms
2024-12-04 18:19:11.692 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7016/api/Contatos - application/json 90
2024-12-04 18:19:11.692 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:11.692 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:19:11.692 -03:00 [INF] Route matched with {action = "AdicionarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AdicionarContato(Agenda.Application.DTOs.CriarContatoDto) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:19:11.705 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Contato] ([Idade], [Nome])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-12-04 18:19:11.712 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 16), @p4='?' (DbType = Int32), @p5='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Telefone] USING (
VALUES (@p2, @p3, 0),
(@p4, @p5, 1)) AS i ([IdContato], [Numero], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IdContato], [Numero])
VALUES (i.[IdContato], i.[Numero])
OUTPUT INSERTED.[Id], i._Position;
2024-12-04 18:19:11.715 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Agenda.Application.DTOs.ContatoDto'.
2024-12-04 18:19:11.716 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API) in 23.1071ms
2024-12-04 18:19:11.716 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.AdicionarContato (Agenda.API)'
2024-12-04 18:19:11.716 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7016/api/Contatos - 201 null application/json; charset=utf-8 23.9774ms
2024-12-04 18:19:15.928 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:19:15.928 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:15.928 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:19:15.928 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:19:15.933 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:19:15.934 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:19:15.934 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 6.0347ms
2024-12-04 18:19:15.934 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:19:15.935 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 7.3541ms
2024-12-04 18:19:26.768 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos/60 - null null
2024-12-04 18:19:26.768 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:26.768 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos/60 - 204 null null 0.4372ms
2024-12-04 18:19:26.770 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7016/api/Contatos/60 - application/json 136
2024-12-04 18:19:26.770 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:26.771 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.AtualizarContato (Agenda.API)'
2024-12-04 18:19:26.779 -03:00 [INF] Route matched with {action = "AtualizarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AtualizarContato(Int32, Agenda.Application.DTOs.CriarContatoDto) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:19:26.789 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:19:26.792 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:19:26.801 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Contato] SET [Nome] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-12-04 18:19:26.801 -03:00 [INF] Executing OkObjectResult, writing value of type 'Agenda.Application.DTOs.ContatoDto'.
2024-12-04 18:19:26.801 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.AtualizarContato (Agenda.API) in 21.672ms
2024-12-04 18:19:26.801 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.AtualizarContato (Agenda.API)'
2024-12-04 18:19:26.801 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7016/api/Contatos/60 - 200 null application/json; charset=utf-8 31.6925ms
2024-12-04 18:19:29.338 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7016/api/Contatos - null null
2024-12-04 18:19:29.339 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:29.339 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:19:29.339 -03:00 [INF] Route matched with {action = "BuscarTodosContatos", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Agenda.Application.DTOs.ContatoDto]]] BuscarTodosContatos() on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:19:29.340 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Idade], [c].[Nome], [t].[Id], [t].[IdContato], [t].[Numero]
FROM [Contato] AS [c]
LEFT JOIN [Telefone] AS [t] ON [c].[Id] = [t].[IdContato]
ORDER BY [c].[Nome], [c].[Id], [t].[Id]
2024-12-04 18:19:29.342 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Agenda.Application.DTOs.ContatoDto, Agenda.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-04 18:19:29.342 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API) in 2.9664ms
2024-12-04 18:19:29.342 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.BuscarTodosContatos (Agenda.API)'
2024-12-04 18:19:29.342 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7016/api/Contatos - 200 null application/json; charset=utf-8 3.7225ms
2024-12-04 18:19:38.036 -03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7016/api/Contatos/60 - null null
2024-12-04 18:19:38.036 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:38.037 -03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7016/api/Contatos/60 - 204 null null 0.588ms
2024-12-04 18:19:38.038 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7016/api/Contatos/60 - null null
2024-12-04 18:19:38.038 -03:00 [INF] CORS policy execution successful.
2024-12-04 18:19:38.038 -03:00 [INF] Executing endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:19:38.038 -03:00 [INF] Route matched with {action = "DeletarContato", controller = "Contatos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeletarContato(Int32) on controller Agenda.API.Controllers.ContatosController (Agenda.API).
2024-12-04 18:19:38.046 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:19:38.049 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Idade], [t].[Nome], [t0].[Id], [t0].[IdContato], [t0].[Numero]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Idade], [c].[Nome]
    FROM [Contato] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Telefone] AS [t0] ON [t].[Id] = [t0].[IdContato]
ORDER BY [t].[Id], [t0].[Id]
2024-12-04 18:19:38.055 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p0 AND [IdContato] = @p1;
DELETE FROM [Telefone]
OUTPUT 1
WHERE [Id] = @p2 AND [IdContato] = @p3;
DELETE FROM [Contato]
OUTPUT 1
WHERE [Id] = @p4;
2024-12-04 18:19:38.056 -03:00 [INF] Contato excluido --> {"Id":60,"Nome":"JOaoAAAA","Idade":23,"Telefones":[{"Id":70,"IdContato":60,"Numero":"16666","Contato":null,"$type":"Telefone"},{"Id":71,"IdContato":60,"Numero":"16166","Contato":null,"$type":"Telefone"}],"$type":"Contato"}
2024-12-04 18:19:38.056 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-12-04 18:19:38.056 -03:00 [INF] Executed action Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API) in 17.851ms
2024-12-04 18:19:38.056 -03:00 [INF] Executed endpoint 'Agenda.API.Controllers.ContatosController.DeletarContato (Agenda.API)'
2024-12-04 18:19:38.056 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7016/api/Contatos/60 - 204 null null 18.6754ms
